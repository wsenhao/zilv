<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>自律平台综合管理系统</title>
    <link rel="stylesheet" href="js/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/font-awesome.min.css">
    <link rel="stylesheet" href="css/userinfo.css">
    <link rel="stylesheet" href="css/dataTables/dataTables.bootstrap.css">
    
</head>
<script src="js/jquery/jQuery-2.2.0.min.js"></script>
<script>
	//分类二级联动
        
        var aArray = new Array();
			aArray[0] = "网络招嫖";
			aArray[1] = "淫秽信息";
			aArray[2] = "低俗信息";
		

			var bArray = new Array(4);
			bArray[0] = "低价出售";
			bArray[1] = "彩票预测";
			bArray[2] = "虚假网站";
			bArray[3] = "交易平台";
			
			var cArray = new Array();
    		cArray[0] = "木马盗窃";
			cArray[1] = "钓鱼网站";
			cArray[2] = "其他盗窃";
			
			var arr = new Array();
			arr[0] = aArray;
			arr[1] = bArray;
			arr[2] = cArray;
			
    		function categrey(obj){
    			var cityArray = arr[obj.value];
				var citySelect = document.getElementsByName("two")[0];
				citySelect.innerHTML = "<option value='0'>--请选择详细分类--</option>"
				for(var i = 0; i < cityArray.length; i++) {
					citySelect.innerHTML += "<option>--" + cityArray[i] + "--</option>"
				}
    		}
    		
    		
    			
			//显示表格内容
			  $.getJSON("data/user.json",function(data){
					var con = $(".mainbody");
					con.html("");
					$.each(data,function(index,obj){
						var tr = $('<tr class="gradeX">'+
						'<td class="center" name="id">'+obj.id+'</td><td class="center" name="SVID">'+obj.SVID+'</td><td class="center">'+obj.NET_NAME+'</td>'+
						'<td class="center">'+obj.NET_URL+'</td><td class="center">'+obj.CREATETIME+'</td> <td class="center">'+obj.DEAL_LASTR_TIME+'</td>'+
						'<td class="center">'+obj.DESCRIPTION+'</td><td class="center"><input type="checkbox" value='+obj.SVID+"@"+obj.REPORT_TYPE_NAME+'/></td>'
						+' </tr>');
						con.append(tr);
					})
				});
				
				
/*	  $(function(){
       		//搜索
	        $("#search1").click(function(){
					var mid = $("#message_id").val();
					var munm = $("message_number").val();
					var con = $(".mainbody");
					$.getJSON("data/user.json",function(data){
						con.html("");
					$.each(data,function(index,obj){
						
						if(mid != null && munm != null){
							if(mid == obj.id && munm == obj.SVID){
								var tr = $('<tr class="gradeX">'+
								'<td class="center" name="id">'+obj.id+'</td><td class="center" name="SVID">'+obj.SVID+'</td><td class="center">'+obj.NET_NAME+'</td>'+
								'<td class="center">'+obj.NET_URL+'</td><td class="center">'+obj.CREATETIME+'</td> <td class="center">'+obj.DEAL_LASTR_TIME+'</td>'+
								'<td class="center">'+obj.DESCRIPTION+'</td><td class="center"><input type="checkbox" value='+obj.SVID+"@"+obj.REPORT_TYPE_NAME+'/></td>'
								+' </tr>');
								con.append(tr);
								return;
							}
							
						}else if(mid != null){
							if(mid == obj.id ){
								var tr = $('<tr class="gradeX">'+
								'<td class="center" name="id">'+obj.id+'</td><td class="center" name="SVID">'+obj.SVID+'</td><td class="center">'+obj.NET_NAME+'</td>'+
								'<td class="center">'+obj.NET_URL+'</td><td class="center">'+obj.CREATETIME+'</td> <td class="center">'+obj.DEAL_LASTR_TIME+'</td>'+
								'<td class="center">'+obj.DESCRIPTION+'</td><td class="center"><input type="checkbox" value='+obj.SVID+"@"+obj.REPORT_TYPE_NAME+'/></td>'
								+' </tr>');
								con.append(tr);
								return;
							}
							
						}else　if(munm != null){
							if(munm == obj.SVID){
								var tr = $('<tr class="gradeX">'+
								'<td class="center" name="id">'+obj.id+'</td><td class="center" name="SVID">'+obj.SVID+'</td><td class="center">'+obj.NET_NAME+'</td>'+
								'<td class="center">'+obj.NET_URL+'</td><td class="center">'+obj.CREATETIME+'</td> <td class="center">'+obj.DEAL_LASTR_TIME+'</td>'+
								'<td class="center">'+obj.DESCRIPTION+'</td><td class="center"><input type="checkbox" value='+obj.SVID+"@"+obj.REPORT_TYPE_NAME+'/></td>'
								+' </tr>');
								con.append(tr);
								return;
							}
						}else{
							var tr = $('<tr class="gradeX">'+
							'<td class="center" name="id">'+obj.id+'</td><td class="center" name="SVID">'+obj.SVID+'</td><td class="center">'+obj.NET_NAME+'</td>'+
							'<td class="center">'+obj.NET_URL+'</td><td class="center">'+obj.CREATETIME+'</td> <td class="center">'+obj.DEAL_LASTR_TIME+'</td>'+
							'<td class="center">'+obj.DESCRIPTION+'</td><td class="center"><input type="checkbox" value='+obj.SVID+"@"+obj.REPORT_TYPE_NAME+'/></td>'
							+' </tr>');
							con.append(tr);
						}
					})
				});
	        
	        })
       })
			*/
			
			
	
</script>
<body class="body">
    <div class="wrap">
    	<div class="info">
    		<div class="boxone">
    			<form class="form-inline top">
				  <div class="form-group">
				    <label for="">信息ID：&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
				    <input type="text" class="form-control" id="message_id">
				  </div>
				</form>
				<br />
				<form class="form-inline bottom">
				  <div class="form-group">
				    <label for="">信息推送时间：</label>
				    <input type="text" class="form-control layer-date" onclick="laydate({istime: true, format: 'YYYY-MM-DD hh:mm:ss'})">
				  </div>
				  <div class="form-group">
				    <label for="">至</label>
				    <input type="text" class="form-control layer-date" onclick="laydate({istime: true, format: 'YYYY-MM-DD hh:mm:ss'})">
				  </div>
				</form>
    		</div>
    		<div class="boxtwo">
    			<form class="form-inline top">
				  <div class="form-group">
				    <label for="">信息编号：</label>
				    <input type="text" class="form-control" id="message_number">
				  </div>
				</form>
				<br />
				<form class="form-inline bottom">
				  <div class="form-group">
				    <label for="">信息分类：</label>
				    <select class="form-control" onchange="categrey(this)" style="width: 120px;">
				    	<option value="0">淫秽色情</option>
						<option value="1">网络诈骗</option>
						<option value="2">网络盗窃</option>
				    </select>
				  </div>
				  <div class="form-group">
				  	<label for="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
				    <select class="form-control" id="two" name="two" style="width: 120px;">
				    	
				    </select>
				  </div>
				</form>
    		</div>
    		<div class="boxthr">
    			<form class="form-inline top">
				  <div class="form-group">
				    <label for="">信息状态：</label>
				    <select class="form-control" >
				    	<option>待处理</option>
				    	<option>待审核</option>
				    	<option>审核通过</option>
				    	<option>审核未通过</option>
				    </select>
				  </div>
				</form>
    		</div>
    		<button type="button" class="infosearch" id="search1"><i class="glyphicon glyphicon-search"></i>   查询</button>
    		<button type="button" class="infoedit" id="infoReset"><i class="glyphicon glyphicon-edit"></i>信息处置</button>
    	</div>
    	
    	<div class="row" style="width: 95%;padding: 20px;">
            <div class="col-sm-12">
                <div class="ibox float-e-margins">
                    <div class="ibox-content">
                        <table class="table table-striped table-bordered table-hover " id="editable">
                            <thead>
                                <tr>
                                    <th>信息ID</th>
                                    <th>信息编号</th>
                                    <th>主体名称</th>
                                    <th>举报信息URL</th>
                                    <th>信息推送时间</th>
                                    <th>信息最后处理时间</th>
                                    <th>举报信息描述</th>
                                    <th>选择</th>
                                </tr>
                            </thead>
                            <tbody class="mainbody">
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal" id="modal">
    	<div class="modalbg">
    		<div class="head">信息处置菜单</div>
    		<div class="modalinfo">
    			<p>信息编号：<span id="number1">XNHSHIDKIEI</span></p>
    			<p>信息类型：<span id="categray01">涉黄信息</span></p>
    		</div>
    		<div class="chuzhi">
    			<p><span id="czsuccess">处置成功</span></p>
    			<p><span id="czfail">处置失败</span></p>
    		</div>
    		<div id="handleSuccess">
    			<div class="select">
    				<span>处置方式类型：</span>
    				<select>
    					<option>加强监管</option>
    					<option>信息删除</option>
    					<option>其他</option>
    				</select>
    			</div>
    			<div class="text">
    				<span>处置结果：</span>
    				<textarea rows="3"></textarea>
    			</div>
    		</div>
    		<div id="handleFail">
    			<div class="select">
    				<span>失败原因：</span>
    				<select>
    					<option>信息不真实</option>
    					<option>信息无法找到</option>
    					<option>其他</option>
    				</select>
    			</div>
    			<div class="text">
    				<span>处置结果：</span>
    				<textarea rows="3"></textarea>
    			</div>
    		</div>
    		<div class="handlebtn">
    			<button id='cancelBtn'>取消</button>
    			<button id='submitBtn'>提交到平台</button>
    		</div>
    	</div>
    </div>
    
    
    <script src="js/jquery/jQuery-2.2.0.min.js"></script>
    <script src="js/bootstrap/js/bootstrap.min.js"></script>
    <!-- Data Tables -->
    <script src="js/dataTables/jquery.jeditable.js"></script>
    <script src="js/dataTables/jquery.dataTables.js"></script>
    <script src="js/dataTables/dataTables.bootstrap.js"></script>
    <script src="js/layer/laydate/laydate.js"></script>
    <script>
        $(document).ready(function () {
          $('.dataTables-example').dataTable();
          var oTable = $('#editable').dataTable();
          
          //表格底部信息位置
          $("#editable_wrapper .row").eq(1).after($("#editable_wrapper .row").eq(0));
          $("#editable_filter").hide();
          $("#editable_info").hide();
          $("#editable_length").css({"margin-top":"-40px"});
          
          //点击信息重置触发事件
          $("#infoReset").click(function(){
          	$("#number1").html("");
          	$("#categray01").html("");
          	//获得被标记内容
          	var arr = $(".mainbody input:checked").val().replace("/","").split("@");
          	$("#number1").html(arr[0]);
          	$("#categray01").html(arr[1]);
          	$("#modal").show();
          });
          
          //模态框中设置成功按钮
          $("#czsuccess").css({"border-bottom":"2px solid #427CEA"});
          $("#czsuccess").click(function(){
          	$("#handleSuccess").show();
          	$("#handleFail").hide();
          	$(this).css({"border-bottom":"2px solid #427CEA"});
          	$("#czfail").css({"border-bottom":"0"});
          });
          
          //模态框中设置失败按钮
          $("#handleFail").hide();  //默认设置失败内容隐藏
          $("#czfail").click(function(){
          	$("#handleSuccess").hide();
          	$("#handleFail").show();
          	$(this).css({"border-bottom":"2px solid #427CEA"});
          	$("#czsuccess").css({"border-bottom":"0"});
          });
          
          //点击取消按钮关闭模态框
          $("#cancelBtn").click(function(){
          	$("#modal").hide();
          });
          
           //点击取消按钮关闭模态框
          $("#submitBtn").click(function(){
          	$("#modal").hide();
          });
          
        });
        
        //日期范围限制
        var start = {
            elem: '#start',
            format: 'YYYY/MM/DD hh:mm:ss',
            min: laydate.now(), //设定最小日期为当前日期
            max: '2099-06-16 23:59:59', //最大日期
            istime: true,
            istoday: false,
            choose: function (datas) {
                end.min = datas; //开始日选好后，重置结束日的最小日期
                end.start = datas //将结束日的初始值设定为开始日
            }
        };
        var end = {
            elem: '#end',
            format: 'YYYY/MM/DD hh:mm:ss',
            min: laydate.now(),
            max: '2099-06-16 23:59:59',
            istime: true,
            istoday: false,
            choose: function (datas) {
                start.max = datas; //结束日选好后，重置开始日的最大日期
            }
        };
        laydate(start);
        laydate(end);
        
        
      
        
        
   
    </script>
</body>
</html>
